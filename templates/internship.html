<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!--  date picker  -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<!-- sweetalert -->
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{%load static%}
<style>
  body {
    background-color: black;
    overflow-x: hidden;
  }

  .text-left {
    color: #636d87;
  }

  input[type=text],
  input[type=file] {
    background-color: transparent;
    border: 1px solid #636d87;
  }

  #course {
    background: none;
    border: 1px solid #636d87;

  }
  .btn {
            border:1px solid #636d87;
            color: #636d87;
        }

  option {
    font-weight: normal;
    display: block;
    white-space: nowrap;
    min-height: 1.2em;
    padding: 0px 2px 1px;
    background-color: #191c24;
    color: #636d87;
    border: none;
  }

  .ui-widget-content {
    border: none;
    background: #191c24;
    color: #636d87;
  }

  .ui-datepicker th {
    padding: 0.7em 0.3em;
    text-align: center;
    font-weight: bold;
    border: none;
    color: #636d87;
  }

  .ui-state-default,
  .ui-widget-content .ui-state-default,
  .ui-widget-header .ui-state-default,
  .ui-button,
  html .ui-button.ui-state-disabled:hover,
  html .ui-button.ui-state-disabled:active {
    border: 1px solid #636d87;
    border-radius: 50%;
    background: #191c24;
    font-weight: normal;
    color: #636d87;
    text-align: center;
  }

  .ui-widget-header {
    border: 1px solid #636d87;
    background: #191c24;
    color: #636d87;
    font-weight: bold;
  }

  .ui-widget.ui-widget-content {
    border: 1px solid #636d87;
  }
</style>

<body>
  <section>
    <div class="row">
      <div class="col-md-3"></div>
      <div class="col-md-6  mt-5 mb-5" style="border-radius: 20px;background-color:  #191c24;">
        <form method="post" id="alert1" action="internshipregister" enctype="multipart/form-data">
          {% csrf_token %}
          <center>
            <div class="mt-5" style="font-size:30px;font-weight: bolder;color: white;">INTERNSHIP REGISTRATION</div>
          </center>
          <div class="container mt-5 mb-5">

            <div class="row">
              <div class="container">
                <div class="text-left mt-3 ">FULL NAME</div>
                <input type="text" id="name" name="name" class="form-control mt-2 " placeholder="Full Name"
                  style="border-radius:5px; " autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="container">
                <div class="text-left mt-3 ">COLLEGE NAME</div>
                <input type="text" id="colname" name="college_name" placeholder="Colege Name" class="form-control mt-2 "
                  style="border-radius:5px; " autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="text-left mt-3 ">REG NO</div>
                <input type="text" id="regno" name="reg_no" placeholder="Register Number" class="form-control mt-2 "
                  style="border-radius:5px; " autocomplete="off">
              </div>
              <div class="col-md-6">
                <div class="text-left mt-3 ">COURSE</div>
                <select name="course" id="course" class="form-control mt-2 " style="border-radius:5px; ">
                  <option class=""></option>
                  <option class="">M.TECH</option>
                  <option class="">B.TECH</option>
                  <option class="">BCA</option>
                  <option class="">MCA</option>
                  <option class="">B.COM</option>
                  <option class="">Diploma</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="container">
                <div class="text-left mt-3 ">STREAM</div>
                <input type="text" name="stream" id="stream" placeholder="Stream" class="form-control mt-2"
                  style="border-radius:5px; " autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="container">
                <div class="text-left mt-3 ">PLATFORM</div>
                <input type="text" id="platform" name="platform" placeholder="Platform" class="form-control mt-2"
                  style="border-radius:5px; " autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="text-left mt-3 ">STARTING DATE</div>
                <input type="text" id="startDate" autocomplete="off" placeholder="Start Date" name="start_date"
                  class="form-control mt-2 " style="border-radius:5px; ">
              </div>
              <div class="col-md-6">
                <div class="text-left mt-3 ">ENDING DATE</div>
                <input type="text" id="endDate" autocomplete="off" placeholder="End Date" name="end_date"
                  class="form-control mt-2" style="border-radius:5px; ">
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="text-left mt-3 ">MOBILE</div>
                <input type="text" id="mobile" name="mobile" placeholder="Mobile Number" class="form-control mt-2 "
                  style="border-radius:5px;" autocomplete="off">
              </div>
              <div class="col-md-4"></div>
              <div class="col-md-4">
                <div class="text-left mt-3 ">ALTERNATIVE NO</div>
                <input type="text" id="altno" name="alternative_no" placeholder="Alternative Number"
                  class="form-control mt-2" style="border-radius:5px; " autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="container">
                <div class="text-left mt-3 ">EMAIL</div>
                <input type="text" id="email" name="email" placeholder="Email" class="form-control mt-2 "
                  style="border-radius:5px; " autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="text-left mt-3 ">PROFILE PIC</div>
                <input type="file" id="files" accept="image/jpeg, image/png" onchange="showPreview(event);"
                  name="profile_pic" class="form-control mt-2 three" style="border:none;border-radius:5px; ">
                <div class="row">
                  <div class="preview ml-3">
                    <img id="files-preview" width=200 height=200 style="display:none;">
                  </div>
                </div>
              </div>
              <div class="col-md-4"></div>
              <div class="col-md-4">
                <div class="text-left mt-3 ">ATTACH FILE</div>
                <input type="file" id="two" name="attach_file" class="form-control mt-2 "
                  style="border:none;border-radius:5px; ">
              </div>
            </div>


            <div class=" row  mt-3 ">
              <div class="col-md-4"></div>
              <div class="col-md-4">
                <button type="submit" id="alert2" onclick="dates();" class="btn  ml-5">Apply</button>
              </div>
              <div class="col-md-4"></div>
              <div>
        </form>

      </div>
    </div>
    <div class="col-md-3"></div>
    </div>
  </section>
</body>

<script>
  function dates() {
    var checkin_date = $("#startDate").datepicker('getDate');
    var checkout_date = $("#endDate").datepicker('getDate');
    if (checkout_date <= checkin_date) {
      alert("This Dates booking is not valid");
      window.location.reload();
    } else {
      return true;

    }


  }

  function showPreview(event) {
    if (event.target.files.length > 0) {
      var src = URL.createObjectURL(event.target.files[0]);
      var preview = document.getElementById("files-preview");
      preview.src = src;
      preview.style.display = "block";
    }
  }

  $(function () {

    // $("#startDate").datepicker({
    //   minDate: 1,
    //   onClose: function (selectedDate) {
    //     $("#endDate").datepicker("option", "minDate", selectedDate);
    //   }
    // });
    // $("#endDate").datepicker({

    //   onClose: function (startDate) {

    //     $("#startDate").datepicker("option" , "maxDate", startDate);
    //   }
    // });


    $("#startDate").datepicker({
      numberOfMonths: 1,
      minDate: 1,
      onSelect: function (selected) {
        var dt = new Date(selected);
        dt.setDate(dt.getDate() + 1);
        $("#endDate").datepicker("option", "minDate", dt);
      }
    });
    $("#endDate").datepicker({
      numberOfMonths: 1,
      onSelect: function (selected) {
        var dt = new Date(selected);
        dt.setDate(dt.getDate() - 1);
        $("#startDate").datepicker("option", "maxDate", dt);
      }
    });

    $("#endDate").on('change', function () {
      var checkin_date = $("#startDate").datepicker('getDate');
      var checkout_date = $("#endDate").datepicker('getDate');
      var diffblw_dates = (checkout_date - checkin_date) / 1000 / 60 / 60 / 24;
      if (diffblw_dates <= 0) {
        alert("This Dates booking is not valid");
        window.location.reload();
      } else {
        return true;

      }
    });

  });
</script>
<script>

  $(document).on('click', '#alert2', function (e) {
    e.preventDefault();
    const swalWithBootstrapButtons = Swal.mixin({
      customClass: {
        confirmButton: 'btn btn-success',
        cancelButton: 'btn btn-danger'
      },
      buttonsStyling: true
    })

    swalWithBootstrapButtons.fire({
      title: 'Are you sure?',

      icon: 'warning',
      showCancelButton: true,
      confirmButtonText: ' Submit',
      cancelButtonText: '  cancel!',
      reverseButtons: true,
      preConfirm: () => {
        if (document.getElementById('two').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('files missing')
        }
        if (document.getElementById('files').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('profile picture missing')
        }
        if (document.getElementById('email').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('email missing')
        }
        if (document.getElementById('altno').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('alternative number missing')
        }
        if (document.getElementById('mobile').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('mobile number missing')
        }
        if (document.getElementById('endDate').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('end date missing')
        }
        if (document.getElementById('startDate').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('start date missing')
        }
        if (document.getElementById('platform').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('platform missing')
        }
        if (document.getElementById('stream').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('stream missing')
        }
        if (document.getElementById('course').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('course missing')
        }
        if (document.getElementById('regno').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('regno missing')
        }
        if (document.getElementById('colname').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('college name missing')
        }
        if (document.getElementById('name').value) {
          // Handle return value 
        } else {
          Swal.showValidationMessage('full name missing')
        }

      }
    }).then((result) => {
      if (result.isConfirmed) {
        $('#alert1').submit();
        swalWithBootstrapButtons.fire(
          'Success',
          'Your file has been Uploaded.',

        )
      } else if (
        /* Read more about handling dismissals below */
        result.dismiss === Swal.DismissReason.cancel
      ) {
        swalWithBootstrapButtons.fire(
          'Cancelled',

        )
      }
    })
  });
</script>

</html>